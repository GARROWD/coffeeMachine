# Coffee Machine

### Api позволяет:
- Создавать свои рецепты кофе из имеющихся действий с выбранными вами аргументами
- Добавлять новые ингредиенты, которые можно использовать в рецептах
- Заказывать определенный рецепт кофе, созданный вами ранее

### Бизнес требования
Когда особых требований нет, легче выдвинуть их себе изначально и отталкиваться от них, чтобы не запутаться. 
Так в моем представлении api работает с одной кофемашиной, как бы находящийся в вашем доме. 
Включенная кофемашина и есть сервер, через который происходит сообщение.

Единственное конечно я понятия не имею, что за кофемашина стоит у меня дома, поэтому был использован паттерн Стратегии.
У меня есть интерфейс Action принимающий список аргументов и список ингредиентов использующихся в действии.
Так, реализовывая Action, можно создать любое действие, которое есть в вашей кофемашине, например: 
- нагреть воду до 45 градусов и добавить в кружку
- экструдировать молотый кофе под давлением 9 бар 30 секунд
- перемешать

В моем представлении это достаточно гибкая система, но представление одно, а реальность другое, так что я вполне могу ошибаться

### Что можно добавить
- Адекватное представление единиц измерения. В данный момент единицы измерения в api отсутствуют, хоть в зачатке они были представлены в виде enum.
Но enum не позволит гибко конвертировать литры в миллилитры и так далее, поэтому я оставил это для доработки
- Несколько профилей, если в доме не вы один пользуйтесь кофемашиной
- Хоть и в данный момент можно получать информацию об оставшихся ингредиентов, но думаю это информация не совсем валидна в рамках реального использования.
Было бы круто добавить метрики в самой кофемашине, и отслеживать их напрямую так. 
И раз уж об этом идет речь, надо было добавить возможность корректировать количество ингредиентов непосредственно изнутри, а не с помощью эндпоинтов как сейчас. Да и уведомление о заканчивающихся ингредиентах это просто пуллинг, а не вебсокет соединение. 
Не делал я этого, потому что поддерживать сессию вебсокета достаточно дорого, но я совершенно забыл что пользователем является всего один человек дома, так что это вовсе не критично.
- Еще кучу всего, если посидеть подумать

### Использованные технологии
- Java 22
- Spring (Boot, JPA, Validation, Web) 
- PostgreSQL 16
- Flyway
- Docker
- Swagger
- Maven
